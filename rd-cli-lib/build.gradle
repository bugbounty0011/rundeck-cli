plugins {
    id 'java-library'
    id 'maven-publish'
}

group = 'org.rundeck.cli'


dependencies {

    api project(":rd-api-client")
    api "org.rundeck.cli-toolbelt:toolbelt:$toolbeltVersion"
    compileOnly "org.projectlombok:lombok:${lombokVersion}"
    annotationProcessor "org.projectlombok:lombok:${lombokVersion}"
    testImplementation group: 'junit', name: 'junit', version: '4.12'
    testImplementation "org.codehaus.groovy:groovy-all:2.5.7"
    testImplementation "org.spockframework:spock-core:1.3-groovy-2.5"
}

publishing {
    publications {
        rdCliLibPublication(MavenPublication) {
            from components.java
            pom {

                description=project.description ?: 'Rundeck CLI Tool Extension Library'
                name= "Rundeck CLI Tool Extension Library ${project.version}"
                url= 'https://github.com/rundeck/rundeck-cli'
                licenses {
                    license {
                        name= 'The Apache Software License, Version 2.0'
                        url ='http://www.apache.org/licenses/LICENSE-2.0.txt'
                        distribution= 'repo'
                    }
                }
                scm {
                    url ='https://github.com/rundeck/rundeck-cli'
                    connection= 'scm:git:git@github.com/rundeck/rundeck-cli.git'
                    developerConnection= 'scm:git:git@github.com:rundeck/rundeck-cli.git'
                }
                developers {
                    developer {
                        id='gschueler'
                        name='Greg Schueler'
                        email='greg@rundeck.com'
                    }
                }
            }

        }
    }
}
